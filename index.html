<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title></title>
  <meta name="theme-color" content="#0b0b0d">
  <!-- v26-restore -->
  <style>
    :root{
      --bg:#0b0b0d; --text:#e9e9ec;
      /* keep the right stop so the bar ends before the white line */
      --right-stop:120px;
    }
    html,body{
      margin:0;height:100%;
      background:var(--bg);color:var(--text);
      font-family:-apple-system,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    }
    .hdr{padding:10px 0;background:#0b0b0d;position:sticky;top:0;z-index:1;}
    /* flush LEFT, hard stop on RIGHT (like your working v19) */
    .search{margin-left:max(0px, env(safe-area-inset-left));}
    .search input{
      width:calc(
        100vw
        - max(0px, env(safe-area-inset-left))
        - ( max(0px, env(safe-area-inset-right)) + var(--right-stop) )
      );
      display:block;border:0;outline:0;padding:8px 12px;
      color:#fff;background:rgba(255,255,255,.12);border-radius:20px;font-size:.95em;
      -webkit-appearance:none;appearance:none;
    }
    /* cart button next to search */
    .hdr{display:grid;grid-template-columns:1fr 48px;align-items:center;column-gap:12px;
         padding:10px max(0px, env(safe-area-inset-right)) 10px max(0px, env(safe-area-inset-left));}
    .search{margin-left:0;padding-left:0;}
    .search input{width:100%;}
    .cart{width:48px;height:36px;display:flex;align-items:center;justify-content:center;border:0;
          border-radius:18px;background:rgba(255,255,255,.12);color:#fff;font-size:18px;}
    .cart:active{transform:scale(.98);}
    /* mini cart modal */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:saturate(1.2) blur(4px);z-index:20;}
    .overlay.show{display:flex;}
    .sheet{width:min(88vw,420px);max-height:72vh;background:#16161a;color:#e9e9ec;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.45);display:flex;flex-direction:column;overflow:hidden;transform:translateY(10px);opacity:0;transition:transform .18s ease, opacity .18s ease;}
    .overlay.show .sheet{transform:translateY(0);opacity:1;}
    .sheet-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#1c1c21;border-bottom:1px solid rgba(255,255,255,.06);}
    .sheet-title{font-weight:600;}
    .sheet-close{border:0;border-radius:12px;padding:6px 10px;background:rgba(255,255,255,.12);color:#fff;font-size:14px;}
    .sheet-body{padding:14px;overflow:auto;}
    body.lock{overflow:hidden;}
  </style>
</head>
<body>
  <header class="hdr">
    <form class="search" role="search" onsubmit="event.preventDefault();">
      <input type="search" name="q" placeholder="Searchâ€¦" autocomplete="off" enterkeyhint="search">
    </form>
    <button class="cart" aria-label="Cart">ðŸ›’</button>
  </header>
  <div style="position:fixed;bottom:8px;left:8px;opacity:.35;font-size:12px">v26-restore</div>
  <div style="position:fixed;bottom:8px;left:8px;opacity:.35;font-size:12px">v27-cart</div>
  <div class="overlay" id="overlay">
    <section class="sheet" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
      <header class="sheet-head">
        <div class="sheet-title" id="cartTitle">Your Cart</div>
        <button class="sheet-close" id="closeBtn" type="button">Close</button>
      </header>
      <div class="sheet-body" tabindex="0">Mini cart goes here.</div>
    </section>
  </div>
  <div style="position:fixed;bottom:8px;left:8px;opacity:.35;font-size:12px">v28-modal</div>
  <script>(function(){var O=document.getElementById(overlay),B=document.querySelector(.cart),C=null;
function open(){document.body.classList.add(lock);O.classList.add(show);C=document.activeElement;setTimeout(function(){(document.querySelector(.sheet-body)||O).focus();},0);}
function close(){O.classList.remove(show);document.body.classList.remove(lock);if(C) C.focus();}
B&&B.addEventListener(click,open);
document.getElementById(closeBtn)&&document.getElementById(closeBtn).addEventListener(click,close);
O&&O.addEventListener(click,function(e){if(e.target===O) close();});
window.addEventListener(keydown,function(e){if(e.key===Escape) close();});})();</script>
</body>
</html>
