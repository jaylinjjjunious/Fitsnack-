<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title>FitSnacks</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0b0b0d">
  <style>
    :root { --bg:#0b0b0d; --card:#141418; --text:#e9e9ec; --muted:#aaa; --accent:#6ea8fe; --badge:#ff3b30; --radius:18px; }
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font:16px -apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
    .app{max-width:393px;min-height:100svh;margin:0 auto;padding:12px 12px 32px;box-sizing:border-box}

    /* Header */
    .row{position:relative; display:flex; align-items:center; gap:0}
    .search-wrap{flex:none; width:calc(100% - 200px);}
    .search{width:100%;background:#1b1b20;border-radius:999px;border:1px solid #2a2a2e;padding:12px 44px;color:var(--text);outline:none}
    .search::placeholder{color:#6c6c70}
    .icon-left{position:absolute;left:12px;top:50%;transform:translateY(-50%)}
    .icon-rights{position:absolute; right:8px; top:50%; transform:translateY(-50%); display:flex; gap:10px; margin-left:0}
    .btn{-webkit-appearance:none;appearance:none;background:#24242a;border:1px solid #2d2d33;border-radius:14px;width:44px;height:44px;padding:0;display:inline-flex;align-items:center;justify-content:center;cursor:pointer}
    #cartBtn{position:relative;display:flex;align-items:center;justify-content:center}
    .badge{position:absolute;top:-6px;right:-8px;background:var(--badge);color:white;border-radius:999px;padding:1px 6px;font-size:12px;font-weight:700;display:inline-flex;align-items:center;justify-content:center}

    /* Other styles remain unchanged... */
  </style>
</head>
<body>
  <div class="app" role="application">
    <div class="row">
      <div class="search-wrap">
        <span class="icon-left">üîç</span>
        <input id="search" class="search" placeholder="Search snacks‚Ä¶" autocomplete="off">
      </div>
      <div class="icon-rights">
        <button type="button" class="btn" id="cartBtn">üõí<span id="cartBadge" class="badge" style="display:none;">0</span></button>
        <button type="button" class="btn" id="settingsBtn">‚öôÔ∏è</button>
      </div>
    </div>

    <!-- Carousel, Chips, Products remain the same... -->

  </div>

  <!-- Product mini sheet remains unchanged -->

  <!-- Cart overlay with Back button -->
  <div id="cartOverlay" class="overlay" role="dialog" aria-modal="true" aria-label="Cart">
    <div class="sheet" role="document">
      <div class="row-between">
        <h3>Cart</h3>
        <button class="ghost" id="cartClose" type="button">Back</button>
      </div>
      <div id="cartContent"></div>
      <div class="row-between" style="margin-top:10px;">
        <strong>Total</strong><strong id="cartTotal">$0.00</strong>
      </div>
      <div class="actions"><button class="primary" id="cartCheckout">Checkout</button></div>
    </div>
  </div>

  <!-- Checkout overlay with Back button -->
  <div id="checkoutOverlay" class="overlay" role="dialog" aria-modal="true" aria-label="Checkout">
    <div class="sheet" role="document">
      <div class="row-between">
        <h3>Checkout</h3>
        <button class="ghost" id="checkoutClose" type="button">Back</button>
      </div>
      <div style="margin-top:6px;">Your name:</div>
      <input id="checkoutName" style="width:100%;padding:10px;border-radius:10px;border:1px solid #2a2a30;background:#101014;color:#e9e9ec;margin-top:6px">
      <div style="margin-top:10px;">Where are you on campus?</div>
      <input id="checkoutLocation" style="width:100%;padding:10px;border-radius:10px;border:1px solid #2a2a30;background:#101014;color:#e9e9ec;margin-top:6px">
      <div id="checkoutError" style="display:none;color:#ff6b6b;margin-top:10px;">Please fill both fields.</div>
      <div class="actions" style="margin-top:12px;">
        <button class="primary" id="checkoutSubmit">Place Order</button>
      </div>
    </div>
  </div>

  <!-- Settings overlay and Scripts stay the same... -->

</body>
</html>