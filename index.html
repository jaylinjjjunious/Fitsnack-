<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <title></title>
  <meta name="theme-color" content="#0b0b0d">
  <!-- v26-restore -->
  <style>
    :root{
      --bg:#0b0b0d; --text:#e9e9ec;
      /* keep the right stop so the bar ends before the white line */
      --right-stop:120px;
    }
    html,body{
      margin:0;height:100%;
      background:var(--bg);color:var(--text);
      font-family:-apple-system,system-ui,Segoe UI,Roboto,Arial,sans-serif;
    }
    .hdr{padding:10px 0;background:#0b0b0d;position:sticky;top:0;z-index:1;}
    /* flush LEFT, hard stop on RIGHT (like your working v19) */
    .search{margin-left:max(0px, env(safe-area-inset-left));}
    .search input{
      width:calc(
        100vw
        - max(0px, env(safe-area-inset-left))
        - ( max(0px, env(safe-area-inset-right)) + var(--right-stop) )
      );
      display:block;border:0;outline:0;padding:8px 12px;
      color:#fff;background:rgba(255,255,255,.12);border-radius:20px;font-size:.95em;
      -webkit-appearance:none;appearance:none;
    }
    /* cart button next to search */
    .hdr{display:grid;grid-template-columns:1fr 48px;align-items:center;column-gap:12px;
         padding:10px max(0px, env(safe-area-inset-right)) 10px max(0px, env(safe-area-inset-left));}
    .search{margin-left:0;padding-left:0;}
    .search input{width:100%;}
    .cart{width:48px;height:36px;display:flex;align-items:center;justify-content:center;border:0;
          border-radius:18px;background:rgba(255,255,255,.12);color:#fff;font-size:18px;}
    .cart:active{transform:scale(.98);}
    /* mini cart modal */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:saturate(1.2) blur(4px);z-index:20;}
    .overlay.show{display:flex;}
    .sheet{width:min(88vw,420px);max-height:72vh;background:#16161a;color:#e9e9ec;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.45);display:flex;flex-direction:column;overflow:hidden;transform:translateY(10px);opacity:0;transition:transform .18s ease, opacity .18s ease;}
    .overlay.show .sheet{transform:translateY(0);opacity:1;}
    .sheet-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#1c1c21;border-bottom:1px solid rgba(255,255,255,.06);}
    .sheet-title{font-weight:600;}
    .sheet-close{border:0;border-radius:12px;padding:6px 10px;background:rgba(255,255,255,.12);color:#fff;font-size:14px;}
    .sheet-body{padding:14px;overflow:auto;}
    body.lock{overflow:hidden;}
    /* mini cart modal */
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:saturate(1.2) blur(4px);z-index:20;}
    .overlay.show{display:flex;}
    .sheet{width:min(88vw,420px);max-height:72vh;background:#16161a;color:#e9e9ec;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.45);display:flex;flex-direction:column;overflow:hidden;transform:translateY(10px);opacity:0;transition:transform .18s ease,opacity .18s ease;}
    .overlay.show .sheet{transform:translateY(0);opacity:1;}
    .sheet-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#1c1c21;border-bottom:1px solid rgba(255,255,255,.06);}
    .sheet-title{font-weight:600;}
    .sheet-close{border:0;border-radius:12px;padding:6px 10px;background:rgba(255,255,255,.12);color:#fff;font-size:14px;}
    .sheet-body{padding:14px;overflow:auto;}
    body.lock{overflow:hidden;}
    /* v38: carousel */
    .carousel{margin:10px auto 0; max-width:680px; padding:0 12px;}
    .carousel-wrap{position:relative; border-radius:14px; overflow:hidden; background:#151515;}
    .track{display:flex; scroll-snap-type:x mandatory; overflow-x:auto; -webkit-overflow-scrolling:touch; scroll-behavior:smooth;}
    .slide{min-width:100%; height:200px; scroll-snap-align:center; position:relative;}
    .slide img{width:100%; height:100%; object-fit:cover; display:block;}
    .dots{display:flex; gap:6px; justify-content:center; padding:8px 0;}
    .dot{width:6px;height:6px;border-radius:50%;background:#5a5a5a;opacity:.6;}
    .dot.active{background:#cfcfcf;opacity:1;}
    @media (min-width:768px){ .slide{height:240px} }
    /* v39: carousel */
    .carousel{margin:10px auto 0;max-width:680px;padding:0 12px;}
    .carousel-wrap{position:relative;border-radius:14px;overflow:hidden;background:#151515;}
    .track{display:flex;scroll-snap-type:x mandatory;overflow-x:auto;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;}
    .slide{min-width:100%;height:200px;scroll-snap-align:center;position:relative;}
    .slide img{width:100%;height:100%;object-fit:cover;display:block;}
    .dots{display:flex;gap:6px;justify-content:center;padding:8px 0;}
    .dot{width:6px;height:6px;border-radius:50%;background:#5a5a5a;opacity:.6;}
    .dot.active{background:#cfcfcf;opacity:1;}
    @media (min-width:768px){.slide{height:240px}}
.prod-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:16px;padding:14px;}
.card{background:rgba(255,255,255,0.05);border-radius:18px;padding:10px 10px 14px;text-align:center;box-shadow:0 4px 14px rgba(0,0,0,0.3);min-height:220px;position:relative;}
.card h3{margin:8px 0 6px;font-size:17px;font-weight:600;}
.card p{color:#ccc;font-size:15px;margin-bottom:14px;}
.card button{background:#6ea8fe;color:white;border:none;border-radius:12px;padding:8px 14px;font-size:18px;box-shadow:0 3px 10px rgba(110,168,254,0.4);}
.card button:active{transform:scale(.96);}
.prod-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;padding:12px;}
.card{background:rgba(255,255,255,0.05);border-radius:14px;padding:10px;text-align:center;}
.card button{background:#6ea8fe;color:#fff;border:none;border-radius:8px;padding:4px 10px;font-size:16px;}
.card h3{margin:6px 0 4px;font-size:16px;}
.card p{margin:0 0 8px;color:#ccc;}
/* v51-pcards */
</head>
<body>
  <header class="hdr">
      <input type="search" name="q" placeholder="Searchâ€¦" autocomplete="off" enterkeyhint="search">
    </form>
    <button class="cart" id="cartBtn" aria-label="Cart">ðŸ›’</button>
  </header>
  <section class="carousel" aria-label="Promos">
    <div class="carousel-wrap">
      <div class="track" id="carTrack" aria-live="polite">
    <div class="slide"><img src="assets/carousel-1.jpg" alt="Cheer" loading="lazy"></div>
    <div class="slide"><img src="assets/carousel-2.jpg" alt="Front" loading="lazy"></div>
    <div class="slide"><img src="assets/carousel-3.jpg" alt="Aerial" loading="lazy"></div>
      </div>
    </div>
    <div class="dots" id="carDots" aria-hidden="true"></div>
  </section>
<section id="products" class="prod-grid">
<div class="card"><h3>Potato Chips</h3><p>$2.50</p><button>+</button></div>
<div class="card"><h3>Protein Bar</h3><p>$2.99</p><button>+</button></div>
<div class="card"><h3>Trail Mix</h3><p>$3.49</p><button>+</button></div>
<div class="card"><h3>Granola Bar</h3><p>$1.99</p><button>+</button></div>
<div class="card"><h3>Greek Yogurt</h3><p>$2.79</p><button>+</button></div>
</section>
  
  <!-- v37-modal: add centered mini page back -->
  <style>
    .overlay{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.45);backdrop-filter:saturate(1.2) blur(4px);z-index:20;}
    .overlay.show{display:flex;}
    .sheet{width:min(88vw,420px);max-height:72vh;background:#16161a;color:#e9e9ec;border-radius:18px;box-shadow:0 10px 30px rgba(0,0,0,.45);display:flex;flex-direction:column;overflow:hidden;transform:translateY(10px);opacity:0;transition:transform .18s ease, opacity .18s ease;}
    .overlay.show .sheet{transform:translateY(0);opacity:1;}
    .sheet-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;background:#1c1c21;border-bottom:1px solid rgba(255,255,255,.06);}
    .sheet-title{font-weight:600;}
    .sheet-close{border:0;border-radius:12px;padding:6px 10px;background:rgba(255,255,255,.12);color:#fff;font-size:14px;}
    .sheet-body{padding:14px;overflow:auto;}
    body.lock{overflow:hidden;}
    /* v38: carousel */
    .carousel{margin:10px auto 0; max-width:680px; padding:0 12px;}
    .carousel-wrap{position:relative; border-radius:14px; overflow:hidden; background:#151515;}
    .track{display:flex; scroll-snap-type:x mandatory; overflow-x:auto; -webkit-overflow-scrolling:touch; scroll-behavior:smooth;}
    .slide{min-width:100%; height:200px; scroll-snap-align:center; position:relative;}
    .slide img{width:100%; height:100%; object-fit:cover; display:block;}
    .dots{display:flex; gap:6px; justify-content:center; padding:8px 0;}
    .dot{width:6px;height:6px;border-radius:50%;background:#5a5a5a;opacity:.6;}
    .dot.active{background:#cfcfcf;opacity:1;}
    @media (min-width:768px){ .slide{height:240px} }
    /* v39: carousel */
    .carousel{margin:10px auto 0;max-width:680px;padding:0 12px;}
    .carousel-wrap{position:relative;border-radius:14px;overflow:hidden;background:#151515;}
    .track{display:flex;scroll-snap-type:x mandatory;overflow-x:auto;-webkit-overflow-scrolling:touch;scroll-behavior:smooth;}
    .slide{min-width:100%;height:200px;scroll-snap-align:center;position:relative;}
    .slide img{width:100%;height:100%;object-fit:cover;display:block;}
    .dots{display:flex;gap:6px;justify-content:center;padding:8px 0;}
    .dot{width:6px;height:6px;border-radius:50%;background:#5a5a5a;opacity:.6;}
    .dot.active{background:#cfcfcf;opacity:1;}
    @media (min-width:768px){.slide{height:240px}}
/* v51-pcards */
  <div class="overlay" id="overlay" aria-hidden="true">
    <section class="sheet" role="dialog" aria-modal="true" aria-labelledby="cartTitle">
      <header class="sheet-head">
        <div class="sheet-title" id="cartTitle">Your Cart</div>
        <button class="sheet-close" id="closeBtn" type="button">Close</button>
      </header>
  
      <div class="sheet-body" tabindex="0"><p>Mini cart goes here.</p></div>
    </section>
  </div>
  <!-- v38-carousel -->
/* v51-pcards */
  <!-- v45-height: 94px mobile / 120px tablet (slightly larger) -->
/* v51-pcards */
  <style>
  /* Edge-to-edge banner (kill inner padding/background) */
  .carousel, .track { padding:0; background:transparent; }
  .slide { margin:0; overflow:hidden; border-radius:16px; }
  .slide img { display:block; width:100%; height:100%; object-fit:cover; }
/* v51-pcards */
  <style>
  /* Fill the rounded card â€“ no inner gap */
  .carousel{padding:0; margin:16px auto; background:transparent; overflow:hidden; border-radius:16px;}
  .track{display:flex; align-items:stretch; gap:0; padding:0; margin:0;}
  .slide{flex:0 0 100%; height:170px; margin:0; overflow:hidden; border-radius:16px;}
  @media (min-width:768px){ .slide{height:200px;} }
  .slide img{display:block; width:100%; height:100%; object-fit:cover;}
/* v51-pcards */
  <style>
  /* FINAL OVERRIDES: kill inner gaps & baseline space */
  .carousel{padding:0!important; margin:16px auto; background:transparent!important; overflow:hidden!important; border-radius:16px!important; box-shadow:none!important;}
  .carousel::before, .carousel::after{display:none!important; content:none!important;}
  .track{display:flex; align-items:stretch; gap:0!important; padding:0!important; margin:0!important;}
  .slide{flex:0 0 100%; height:140px!important; margin:0!important; overflow:hidden!important; border-radius:16px!important; font-size:0!important; line-height:0!important;}
  @media (min-width:768px){ .slide{height:170px!important;} }
  .slide img{display:block!important; width:100%!important; height:100%!important; object-fit:cover!important;}
/* v51-pcards */
</body>
  <!-- v52-autorotate7s-io: observer-based loop 1â†’2â†’3â†’1 -->
  // Track the slide that is mostly in view using IntersectionObserver
    // Fallback: snap from pixels if IO missing
</body>
rage Keys ---------- */

  /* ---------- External (optional) ---------- */

  /* ---------- Toasts ---------- */

  /* ---------- Persistent state ---------- */

  /* ---------- Stock ---------- */
    'Potato Chips': 20,'Protein Bar': 18,'Trail Mix': 15,'Granola Bar': 24,
    'Doritos Flaminâ€™ Hot Nacho': 30,'Greek Yogurt': 12,'Mixed Nuts': 14,
    'Fruit Cup': 10,'Energy Drink': 16,'Chocolate Bar': 22


  /* ---------- Greeting & Profile ---------- */
  /* ---------- Carousel ---------- */
      data = [


    // autoplay with interaction guard
    ['pointerdown','wheel','touchstart','mousedown','scroll'].forEach(ev =>
  /* ---------- Cart ---------- */
      html += `<div class="row-between" style="margin-top:6px">
        </div>
        </div>

  /* Delegate +/âˆ’ and remove in cart */

  /* ---------- Favorites ---------- */

  /* ---------- Search & Filter ---------- */

  /* ---------- Product Sheet ---------- */
  /* ---------- Promo & Tip ---------- */

  /* ---------- Checkout Flow ---------- */

        when: serverTimestamp(),
        name: order.name,
        location: order.loc,
        lines: order.lines,
        total: order.total,
        status: 'active'


      id: 'FS-' + Date.now(),
      at: new Date().toISOString(),
      name, loc, promo, tip, subtotal, discount: disc, total,
      lines


    // Optional IFTTT webhook (only if key is set)
          method:'POST',



  /* Re-order last */
  /* ---------- Settings & Admin ---------- */


  /* ---- Admin Subtabs (fallbacks OK) ---- */
  const DEFAULT_SUBTABS = [
  async function loadSubtabsJSON(urls=[
    'assets/settings-tabs.json',
    'assets/admin.json',
    'assets/settings.json',
    'assets/ui.json'

  /* ---- Inventory helpers: pop-on-card ---- */

  /* ---- Admin: Stock editor (editable list of products) ---- */
    const names = Object.keys(stock).length ? Object.keys(stock) :
    const rows = names.sort().map(n => `
    host.innerHTML = `
        <div>Item</div><div>Stock</div><div></div><div></div>
  /* Handle Save / Zero in Inventory and pop on card */

      // Pop on product card + pulse

      // Refresh dependent views



  /* ---- Admin: Orders view (tap to detail) ---- */
    host.innerHTML = orders.slice().reverse().map((o,i) => `
      </div>

    $('#orderLines').innerHTML=(o.lines||[]).map(l=>`
      <div class="row-between" style="padding:6px 0">





    // Add to delivered history (local)

    // Write back to original order array (reverse mapping)

    // Try Firestore status update (best-effort)


  /* ---- Admin: KPIs ---- */
    $('#kpi
  /* ---------- Bootstrap ---------- */

      // Overlay close on backdrop & ESC

      // Safe binds
  </script-->
</body>
</html>
<!-- rebuild 1759556295 -->
html>
<!-- rebuild 1759556295 -->
<!-- deploy 1759818838 -->
<style id="headerStyles">
  /* modal */
</style>
